# OneCompartAspirin.py# One Compartment model of drug dosage of aspirinfrom math import *import numpy as npimport matplotlib.pyplot as pltdef myPlot(t,P,x1,x2,y1,y2,title,filename):    fig1 = plt.figure()    plt.xlim(x1,x2)    plt.ylim(y1, y2)    plt.xlabel('t')    plt.ylabel('P')    plt.title(title)    plt.plot(t,P)    plt.savefig(filename)    plt.show()def OneCompartAspirin(DT = 0.01, simLength = 8):	numIterations = int(simLength/DT) + 1	print "         t   Plasma Concentration"	half_life_b = 3.2	volume_b = 3000	aspirin_in_b = 2 * 325 * 1000	elimination_constant_b = -log(0.5) / half_life_b	half_life_s = 3.2	volume_b = 3000	aspirin_in_s = 2 * 325 * 1000	elimination_constant_s = -log(0.5) / half_life_s	elimination_b = elimination_constant_b * aspirin_in_b	concentration_b = aspirin_in_b / volume_b	concentrationLst_b = [concentration_b]	elimination_s = elimination_constant_s * aspirin_in_s	concentration_s = aspirin_in_s / volume_s	concentrationLst_s = [concentration_s]	proportionality_const = 10	num_time_steps_doses = 800 #calculate this	t = 0	timeLst = [0]	count = 0	print '%10.2f\t%12.2f' % (t, plasma_concentration)	for i in range(1, numIterations):		count+=1		if count==num_time_steps_doses:			#add new dose		    count =0		else:			#transfer drug from stomach to blood		t = i * DT	    timeLst.append(t)	    elimination = elimination_constant * aspirin_in_plasma	    aspirin_in_plasma = aspirin_in_plasma - elimination * DT	    plasma_concentration = aspirin_in_plasma / plasma_volume	    plasma_concentrationLst.append(plasma_concentration)	    print '%10.2f\t%12.2f' % (t, plasma_concentration)	myPlot(timeLst,plasma_concentrationLst,min(timeLst),max(timeLst),min(plasma_concentrationLst),max(plasma_concentrationLst),"Aspirin conc. in plasma","plasma_aspirin1.png")OneCompartAspirin()